{% extends "base.html" %}
{% load static %}
{% block title %}Products{% endblock title %}
<p>Product List</p>

{% block content %}

<div class="card text-bg-dark border-0" style="height: 100px; overflow: hidden; position: relative;">
    <!-- Background Image -->
    <img src="{% static 'images/games2.jpg' %}" class="card-img" alt="Background Image" 
         style="object-fit: cover; height: 100%; width: 100%; position: absolute; z-index: 0;">
  
    <!-- Overlay Content -->
    <div class="d-flex justify-content-between align-items-center w-100" 
         style="height: 100%; position: relative; z-index: 1; background-color: rgba(0, 0, 0, 0.75); padding: 0 5%;">
      <!-- Left Section: Text -->
      <div class="text-white" style="flex: 1; text-align: left;">
        <h1 class="card-title">See Our Products!</h1>
      </div>
      
      <!-- Right Section: Button -->
      <div style="flex: 1; text-align: right;">
      </div>
    </div>
  </div>

  <br>

<!-- Search Form -->
<form class="form-inline my-2 my-lg-0" method="GET" action="{% url 'search' %}" style="display: flex; width: 100%; align-items: center;">
    <!-- Search Bar (normal width) -->
    <input class="form-control mr-sm-2" type="search" name="search" style="flex-grow: 1; margin-right: 10px;">
    
    <!-- Search Button (normal width) -->
    <button class="btn btn-info my-2 my-sm-0" type="submit">Search</button>
</form>

<br>

<!-- Grid Container for Products -->
<div class="row">
    {% for product in product_list %}
        <div class="col-lg-3 col-md-4 col-sm-6 mb-4"> <!-- Grid item -->
            <div class="product-item">
                <!-- Product Image with Normalized Size -->
                <div class="product-image">
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid" style="width: 100%; height: 200px; object-fit: cover;">
                </div>

                <!-- Product Name and Link -->
                <div class="product-name">
                    <a href="{{ product.get_absolute_url }}" class="d-block text-center">{{ product.name }}</a>
                </div>

                <!-- Product Price -->
                <div class="product-price text-center">
                    ${{ product.price }}
                </div>
            </div>
        </div>
    {% endfor %}
</div>

{% endblock content %}
